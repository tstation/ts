<% locals.setLayout('src/project/mobile/includes/layouts/base.ejs') -%>
<% locals.block('title', '타이어 쇼핑은 T\'Station.com') -%>

<%# Include %>
<%- locals.widget('src/project/mobile/includes/layouts/nav-bar.ejs', { pageTitle: '이벤트' }) %>
<link rel="stylesheet" type="text/css" href="mc-static-root/css/event.css" />
<div id="container" class="mypage">
    <!-- 02. 제목 -->
    <div class="event_tit">
        힘내라 대한민국
        <span class="date">이벤트 기간 : 22.03.01  ~ 22.03.31</span>
    </div>
    <!-- //02. 제목  -->
    <!-- event list -->
    <input type="hidden" id="evtUrlAddr" value="">
    <input type="hidden" id="endEvtDisp" value="">
    <input type="hidden" id="isEvtDispBf" value="">

    <div class="event_detail">
        <!-- .event_detail // -->
        <style>
        .event-korea-cheerup {position:relative;}
        .event-korea-cheerup .img-map-wrap {max-width:750px; width:100%; font-size: 0; margin: auto; position:relative;}
        .event-korea-cheerup .img-map-link {display: block; position: absolute; z-index: 1; background-color: rgba(254, 106, 43, .5);} /* 20220128 */
        .event-korea-cheerup .img-map-link.link-1 {left: 5.5%;top: 15.75%;width: 43.8%;height: 4.02%; border-radius: 4px; }
        .event-korea-cheerup .img-map-link.link-2 {left: 50.8%;top: 15.75%;width: 43.8%;height: 4.02%; border-radius: 4px; }
        .event-korea-cheerup .img-map-link.link-3 {left: 8.3%; top: 30.1%; width: 82.1%; height: 1.4%; border-radius: 8px;}
        .event-korea-cheerup .img-map-link.link-4 {left: 9.3%;top: 43.46%;width: 40%;height: 1.35%;border-radius: 4px;}
        .event-korea-cheerup .img-map-link.link-5 {left: 50.6%;top: 43.46%;width: 40%;height: 1.35%;border-radius: 4px; }
        .event-korea-cheerup .img-map-link.tire-link-1 {left: 24.5%;top: 58.34%;width: 21.9%;height: 0.56%;border-radius: 44px;}
        .event-korea-cheerup .img-map-link.tire-link-2 {left: 70%;top: 58.34%;width: 21.9%;height: 0.56%;border-radius: 44px;}
        .event-korea-cheerup .img-map-link.tire-link-3 {left: 24.5%;top: 64.92%;width: 21.9%;height: 0.56%;border-radius: 44px;}
        .event-korea-cheerup .img-map-link.tire-link-4 {left: 70%;top: 64.92%;width: 21.9%;height: 0.56%;border-radius: 44px;}
        .event-korea-cheerup .img-map-link.tire-link-5 {left: 24.5%;top: 72.84%;width: 21.9%;height: 0.56%;border-radius: 44px;}
        .event-korea-cheerup .img-map-link.tire-link-6 {left: 70%;top: 72.84%;width: 21.9%;height: 0.56%;border-radius: 44px;}
        .event-korea-cheerup .img-map-link.tire-link-7 {left: 24.5%;top: 79.41%;width: 21.9%;height: 0.56%;border-radius: 44px;}
        .event-korea-cheerup .img-map-link.tire-link-8 {left: 70%;top: 79.41%;width: 21.9%;height: 0.56%;border-radius: 44px;}
        </style>
        
        <div class="event-korea-cheerup">
            <div class="img-map-wrap">
                <img src="mc-static-root/images/event/20220224/img_event_korea.png" alt="" />
                <div class="ak-wrap-korea">
                    <a href="#none" class="event-case img-map-link link-1"><span class="blind">네이버페이 결제시 N포인트 3만전 지급 스크롤 이동</span></a>
                    <a href="#none" class="event-case img-map-link link-2"><span class="blind">제휴카드 결제 시 모바일 주유권 3만원 지금 스크롤 이동</span></a>
                </div>
                <script>
                function amtAnchorScroll() {
                    var shoppingTippickup = $('.ak-wrap-korea');
                    var shoppingTippickupButton = shoppingTippickup.find('.event-case');
                    var shoppingTippickupHeight = $('.navbar').outerHeight();
                    shoppingTippickupButton.each(function(i) {
                        shoppingTippickupButton.eq(i).click(function(e) {
                            e.preventDefault();
                            var scrollpickupPostion = $('.event-korea-cheerup').find('.amt-anchor').eq(i).offset().top - shoppingTippickupHeight;
                            
                            console.log(scrollpickupPostion);
                            $('html, body').animate({
                                scrollTop: scrollpickupPostion - 385
                            }, 500)
                        })
                    })
                }
                amtAnchorScroll()
                </script>
                <a href="#none" class="amt-anchor img-map-link link-3"><span class="blind">온라인 쇼핑 바로가기</span></a>
                <a href="#none" class="amt-anchor img-map-link link-4" role="button"
                    onclick="$.Tstation.popup().open({
                        ref: '',
                        title: '행사매장 검색하기',
                        requestUrl: '', // 비동기 방식으로 컨텐츠 영역을 받아올때
                        contents: storeSerchConent, // 팝업을 바로 띄우고 싶을때
                        dimWhite: false,
                        modalContentsPd: { // contents 영역의 padding 값 조절 해당 숫자의 * 4px 예: top 8 > top 32px
                            horizon: 0,
                            vertical: 0,
                            top: 0,
                            right: 0,
                            bottom: 0,
                            left: 0
                        },
                        full: true, // Full Popup
                        
                    })"
                >
                
                <span class="blind">행사매장 보기</span></a>
                <a href="/tire/product/ventus_s2_as?ptrnCd=H462&goodsMdclCd=01&movePath=pattern" class="img-map-link link-5"><span class="blind">매장예약 바로가기</span></a>
                <a href="/tire/product/ventus_s1_evo3?ptrnCd=K127&goodsMdclCd=01&movePath=pattern" class="img-map-link tire-link-1"><span class="blind">추천 승용 타이어 - 벤투스 프리미엄 컴포트</span></a>
                <a href="/tire/product/ventus_v2_as?ptrnCd=H123&goodsMdclCd=01&movePath=pattern" class="img-map-link tire-link-2"><span class="blind">추천 승용 타이어 - 벤투스 프리미엄 스포츠</span></a>
                <a href="/tire/product/ventus_v12_evo2?ptrnCd=K120&goodsMdclCd=01&movePath=pattern" class="img-map-link tire-link-3"><span class="blind">추천 승용 타이어 - 벤투스 컴포트</span></a>
                <a href="/tire/product/ventus_s2_as_x?ptrnCd=RH17&goodsMdclCd=01&movePath=pattern" class="img-map-link tire-link-4"><span class="blind">추천 승용 타이어 - 벤투스 스포츠</span></a>
                <a href="/tire/product/ventus_s1_evo3_suv?ptrnCd=K127A&goodsMdclCd=01&movePath=pattern" class="img-map-link tire-link-5"><span class="blind">추천 SUV 타이어 - 벥투스 프리미엄 컴포트</span></a>
                <a href="/tire/product/ventus_s2_as_x?ptrnCd=RH17&goodsMdclCd=01&movePath=pattern" class="img-map-link tire-link-6"><span class="blind">추천 SUV 타이어 - 벥투스 프리미엄 스포츠</span></a>
                <a href="/tire/product/dynapro_hl3?ptrnCd=RA45&goodsMdclCd=01&movePath=pattern" class="img-map-link tire-link-7"><span class="blind">추천 SUV 타이어 - 다이나프로 컴포트</span></a>
                <a href="/tire/product/dynapro_hp2?ptrnCd=RA33&goodsMdclCd=01&movePath=pattern" class="img-map-link tire-link-8"><span class="blind">추천 SUV 타이어 - 다이나프로 컴포트</span></a>
            </div>
            
        </div>
    </div>
    <!-- // .event_detail -->
    <div class="btn02">
        <a href="https://m.tstation.com/promotion/event-list" class="btnB btnS02">목록으로</a>
    </div>
</div>

<script>
var storeSerchConent = `
    <div class="offline-store-search">
        <div class="contents-section store-search">
            <div class="country-wrap">
                <ul class="list-size-flex pd-h-5u">
                    <li class="flex-3 pd-r-2u">
                    <div class="form-control form-control-md">
                        <div class="input-group">
                            <select class="input-box">
                                <option value="options1" selected="" disabled="">시/도 선택</option>
                                <option value="options1">options1</option>
                                <option value="options2">options2</option>
                                <option value="options3">options3</option>
                                <option value="options4">options4</option>
                            </select>
                            <div class="tools">
                                <button><span class="line-icons chev-down"></span></button>
                            </div>
                        </div>
                    </div>
                    </li>
                    <li class="flex-3 pd-r-2u">
                    <div class="form-control form-control-md">
                        <div class="input-group">
                        <!-- 시/도 선택후 'disabled'클래스 제거 -->
                        <select class="input-box disabled">
                            <option value="options1" selected="" disabled="">시/군/구 선택</option>
                            <option value="options1">options1</option>
                            <option value="options2">options2</option>
                            <option value="options3">options3</option>
                            <option value="options4">options4</option>
                        </select>
                        <div class="tools">
                            <button><span class="line-icons chev-down"></span></button>
                        </div>
                        </div>
                    </div>
                    </li>
                    <li class="flex-2">
                    <button type="button" class="btn-item btn-neutral full-w round">
                        <span class="label-txt">찾기</span>
                    </button>
                    </li>
                </ul>
                <div class="store-search-checked">
                    <div class="radio-wrap">
                        <label class="check-item">
                            <input type="checkbox" name="serviceFilter" id="serviceFilter01" value="118">
                            <div class="icon-holder">
                                <span class="line-icons square size-20"></span>
                            </div>
                            <div class="labelling">
                                <span class="label-txt mg-h-1u txt-12">티스테이션</span>
                            </div>
                        </label>
                        <label class="check-item">
                            <input type="checkbox" name="serviceFilter" id="serviceFilter02" value="filterVisit">
                            <div class="icon-holder">
                                <span class="line-icons square size-20"></span>
                            </div>
                            <div class="labelling">
                                <span class="label-txt mg-h-1u txt-12">더타이어샵</span>
                            </div>
                        </label>
                    </div>
                    <div class="noti-wrap">
                        <div class="subcopy">한국타이어 장착점 안내</div>
                        <p class="noti txt-12"><strong>티스테이션:</strong><span>최적의 타이어 상담부터 구매, 차량관리까지 믿고 맡길 수 있는 대한민국 대표 타이어 전문점</span></p>
                        <p class="noti txt-12"><strong>더타이어샵:</strong><span>합리적인 가격의 타이어와 경정비 서비스를 제공하는 전문 매장</span></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="layer-content-wrap find-location-near">
            <div class="store-sort-info">
                <div class="sort-count">
                    검색결과 <strong>3개</strong>
                </div>
                <div class="sort-button-wrap">
                    <!-- 2021-03-22 // -->
                    <button class="btn-sort" id="storeMapButton" onclick="sortFunc()"><span class="line-icons map size-24 mg-r-1u"></span>지도에서 보기</button>
                    <button class="btn-sort" id="storeListButton" onclick="sortFunc()" style="display: none;"><span class="line-icons list size-24 mg-r-1u"></span>리스트로 보기</button>
                    <!-- // 2021-03-22 -->
                </div>
            </div>

            <div class="sort-result">
                <div class="store-list">
                    <div class="store-wrap">
                        <!-- .store-info 해당 클래스에 .tstation, .hankook, .thetireshop 추가시 로고, 및 회시 명칭 표기-->
                        <!-- .store-info 해당 클래스에 .allmyt-store 추가시 해당 badge 추가 -->
                        <div class="store-info tstation allmyt-store"><!-- 0930 -->
                            <div class="franchisee">
                                <strong>가산점</strong>
                            </div>
                            <div class="distance">
                                <div class="info">
                                    <span class="open">08:00 ~ 20:00</span>
                                </div>
                                <p class="address">서울특별시 금천구 가산로 86(독산동)</p>
                            </div>
                        </div>
                        <div class="store-footer">
                            <div class="connect-wrap">
                                <button class="location-button"><span class="line-icons location size-28"></span></button>
                                <button class="call-button" onclick="$.Tstation.callAndroidCheck(event, '031-1234-5678')"><span class="line-icons call size-28"></span></button>
                            </div>
                        </div>
                    </div>
                    <div class="store-wrap">
                        <!-- .store-info 해당 클래스에 .tstation, .hankook, .thetireshop 추가시 로고, 및 회시 명칭 표기-->
                        <div class="store-info tstation">
                            <div class="franchisee">
                                <strong>분당정자점</strong>
                            </div>
                            <div class="distance">
                                <div class="info">
                                    <span class="open">08:00 ~ 20:00</span>
                                </div>
                                <p class="address">경기도 성남시 분당구 운중로267번길 3-7 (판교동)</p>
                            </div>
                        </div>
                        <div class="store-footer">
                            <div class="connect-wrap">
                                <button class="location-button"><span class="line-icons location size-28"></span></button>
                                <button class="call-button" onclick="$.Tstation.callAndroidCheck(event, '031-1234-5678')"><span class="line-icons call size-28"></span></button>
                            </div>
                        </div>
                    </div>

                    <div class="store-wrap">
                        <!-- .store-info 해당 클래스에 .tstation, .hankook, .thetireshop 추가시 로고, 및 회시 명칭 표기-->
                        <div class="store-info thetireshop">
                            <div class="franchisee">
                                <strong>분당점</strong>
                            </div>
                            <div class="distance">
                                <div class="info">
                                    <span class="open">08:00 ~ 20:00</span>
                                </div>
                                <p class="address">경기도 성남시 분당구 운중로267번길 3-7 (판교동)</p>
                            </div>
                        </div>
                        <div class="store-footer">
                            <div class="connect-wrap">
                                <button class="location-button"><span class="line-icons location size-28"></span></button>
                                <button class="call-button" onclick="$.Tstation.callAndroidCheck(event, '031-1234-5678')"><span class="line-icons call size-28"></span></button>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <div class="store-maps" style="display: none; height: 300px;">
                    <div class="mark-info-wrap">
                        <span class="mark-tstation">티스테이션</span>
                        <span class="mark-hankook">더 타이어 샵</span>
                    </div>

                    <div class="map-wrap">
                        <img src="mc-static-root/images/common/goods/@sample_map.png" alt="">
                    </div>

                    <!-- 맵 마커 -->
                    <img src="mc-static-root/images/event/20210316/map_marker_hk.png" class="map-marker" />
                    <img src="mc-static-root/images/event/20210316/map_marker_tstation.png" class="map-marker" />

                    <!-- 맵위에 떠있을경우 store-wrap 'on-map'클래스 추가 -->
                    <div class="store-wrap on-map">
                        <!-- .store-info 해당 클래스에 .tstation, .hankook, .thetireshop 추가시 로고, 및 회시 명칭 표기-->
                        <div class="store-info tstation allmyt-store">
                            <div class="franchisee">
                                <strong>분당정자점</strong>
                            </div>
                            <div class="distance">
                                <div class="info">
                                    <span class="open">08:00 ~ 20:00</span>
                                </div>
                                <p class="address">경기도 성남시 분당구 운중로267번길 3-7 (판교동)</p>
                            </div>
                        </div>
                        <div class="store-footer">
                            <div class="connect-wrap">
                                <button class="call-button" onclick="$.Tstation.callAndroidCheck(event, '031-1234-5678')"><span class="line-icons call size-28"></span></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 매장 결과 없을 경우 -->

            <div class="empty-box txt-center pd-v-15u">
                <div class="middler">
                    <span class="line-icons error-circle size-48"></span>
                    <p class="empty-msg">현재 기준으로 장착 가능한 매장만 검색됩니다</p>
                </div>
            </div>
        </div>
    </div>

`    
    var sortButtonState = "list"
    function sortFunc() {
            if(sortButtonState === "map") {
                $("#storeListButton, .store-maps").hide();
                $("#storeMapButton, .store-list").show();
                sortButtonState = "list";
            } else if(sortButtonState === "list") {
                $("#storeListButton, .store-maps").show();
                $("#storeMapButton, .store-list").hide();
                sortButtonState = "map";
            }
        }
    
</script>